{"version":3,"sources":["utilities/Resolve.ts"],"names":[],"mappings":";;AAAA,qCAA+B;AAC/B,yBAAyB;AACzB,6BAA6B;AAE7B,wBAA+B,WAAmB,EAAE,QAAgB;IAClE,MAAM,kBAAkB,GAAW,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC7D,IAAI,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAI,CAAC,WAAW,EAAE;YACpC,OAAO,EAAE,kBAAkB;YAC3B,aAAa,EAAE,CAAC,GAAqB;gBACnC,GAAG,CAAC,IAAI,GAAG,cAAc,CAAC;gBAC1B,MAAM,CAAC,GAAG,CAAC;YACb,CAAC;SACF,CAAC,CAAC,CAAC;IACN,CAAC;IAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACZ,IAAI,CAAC;YACH,oEAAoE;YACpE,MAAM,kBAAkB,GAAqB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,cAAc,CAAC,CAAC,CAAC;YACpG,EAAE,CAAC,CAAC,kBAAkB,CAAC,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC;gBAC5C,MAAM,CAAC,kBAAkB,CAAC;YAC5B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,EAAE,CAAC;YACX,CAAC;QACH,CAAC;QAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACZ,MAAM,EAAE,CAAC;QACX,CAAC;IACH,CAAC;AACH,CAAC;AAvBD,wCAuBC","file":"Resolve.js","sourcesContent":["import { sync } from 'resolve';\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\n\r\nexport function resolvePackage(packageName: string, rootPath: string): string { // tslint:disable-line:export-name\r\n  const normalizedRootPath: string = fs.realpathSync(rootPath);\r\n  try {\r\n    return path.dirname(sync(packageName, {\r\n      basedir: normalizedRootPath,\r\n      packageFilter: (pkg: { main: string }): { main: string } => {\r\n        pkg.main = 'package.json';\r\n        return pkg;\r\n      }\r\n    }));\r\n  } catch (e1) {\r\n    try {\r\n      // If we fail, see if we're trying to resolve to the current package\r\n      const currentPackageJson: { name: string } = require(path.join(normalizedRootPath, 'package.json'));\r\n      if (currentPackageJson.name === packageName) {\r\n        return normalizedRootPath;\r\n      } else {\r\n        throw e1;\r\n      }\r\n    } catch (e2) {\r\n      throw e1;\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"../../../src"}